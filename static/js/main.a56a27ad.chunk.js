(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{10:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__1boHU","ImageGalleryItem-image":"ImageGalleryItem_ImageGalleryItem-image__Iobk6"}},11:function(e,t,a){e.exports={Overlay:"Modal_Overlay__3-2AV",Modal:"Modal_Modal__3DH4i"}},13:function(e,t,a){e.exports={App:"App_App__2TRbz"}},14:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__TJ5I2"}},15:function(e,t,a){e.exports={Text:"ImageGalleryView_Text__12nKO"}},16:function(e,t,a){e.exports={Button:"Button_Button__CVBOk"}},18:function(e,t,a){e.exports={LoadeMore:"Loader_LoadeMore__2JjJg"}},23:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(8),c=a.n(o),s=(a(23),a(3)),i=a(4),l=a(6),u=a(5),m=a(13),h=a.n(m),p=a(7),g=a.n(p),d=a(0),b=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={value:""},e.InputChange=function(t){e.setState({value:t.target.value.toLowerCase()})},e.FormSubmit=function(t){t.preventDefault(),""!==e.state.value.trim()?(e.props.onSubmit(e.state.value),e.setState({value:""})):alert("ENTER NAME")},e}return Object(i.a)(a,[{key:"render",value:function(){return Object(d.jsx)("header",{className:g.a.Searchbar,children:Object(d.jsxs)("form",{className:g.a.SearchForm,onSubmit:this.FormSubmit,children:[Object(d.jsx)("button",{type:"submit",className:g.a["SearchForm-button"],children:Object(d.jsx)("span",{className:g.a["SearchForm-button-label"],children:"Search"})}),Object(d.jsx)("input",{className:g.a["SearchForm-input"],type:"text",value:this.state.value,onChange:this.InputChange,autocomplete:"off",autofocus:!0,placeholder:"Search images and photos"})]})})}}]),a}(n.Component),j=a(12),f=a(10),v=a.n(f);var y=function(e){var t=e.src,a=e.alt,n=e.activeImage;return Object(d.jsx)("li",{className:v.a.ImageGalleryItem,children:Object(d.jsx)("img",{src:t,alt:a,className:v.a["ImageGalleryItem-image"],onClick:n})})},O=a(14),_=a.n(O);var I=function(e){var t=e.images,a=e.activeImage;return Object(d.jsx)("ul",{className:_.a.ImageGallery,children:t.map((function(e){return Object(d.jsx)(y,{src:e.webformatURL,alt:e.tags,activeImage:function(){return a(e.largeImageURL,e.tags)}},e.id)}))})},S=a(15),x=a.n(S),w=a(16),k=a.n(w);var M=function(e){var t=e.onLoadMore;return Object(d.jsx)("button",{type:"button",className:k.a.Button,onClick:t,children:"Load more"})},C=a(17),F=a.n(C),P=a(18),N=a.n(P),G=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return Object(d.jsx)(F.a,{className:N.a.LoadeMore,type:"Puff",color:"#00BFFF",height:300,width:300,timeout:3e3})}}]),a}(n.Component);function L(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}var A=new(function(){function e(){Object(s.a)(this,e),this.searchQuery="",this.currentPage=1,this.perPage=12}return Object(i.a)(e,[{key:"getImage",value:function(){var e=this;return fetch("".concat("https://pixabay.com/api/?","q=").concat(this.searchQuery,"&page=").concat(this.currentPage,"&key=").concat("21900580-a9d3faca1e1a077fd5c5f4e0a","&image_type=photo&orientation=horizontal&per_page=").concat(this.perPage)).then((function(t){return t.ok?t.json():Promise.reject(new Error("\u041d\u0435\u0442 \u043a\u0430\u0440\u0442\u0438\u043d\u043e\u043a \u0441 \u0438\u043c\u0435\u043d\u0435\u043c ".concat(e.query)))}))}},{key:"resetPage",value:function(){this.currentPage=1}},{key:"incrementPage",value:function(){this.currentPage+=1}},{key:"query",get:function(){return this.searchQuery},set:function(e){this.searchQuery=e}},{key:"imagesPerPage",get:function(){return this.perPage}}]),e}()),B="idle",E="pending",T="resolved",D="rejected",q=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={images:null,error:null,status:B},e.loadMore=function(){A.incrementPage(),A.getImage().then((function(t){var a=t.hits;e.setState((function(e){return{images:[].concat(Object(j.a)(e.images),Object(j.a)(a)),status:T}})),L()})).catch((function(t){return e.setState({error:t,status:D})}))},e.activeImage=function(t,a){e.props.controlModal(t,a)},e}return Object(i.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this;e.nameImage!==this.props.nameImage&&(this.setState({status:E}),A.query=this.props.nameImage,A.resetPage(),A.getImage().then((function(e){var t=e.hits;a.setState({images:t,status:T})})).catch((function(e){return a.setState({error:e,status:D})})))}},{key:"render",value:function(){var e=this.state,t=e.images,a=e.error,n=e.status;return"idle"===n?Object(d.jsx)("p",{className:x.a.Text,children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438/\u0444\u043e\u0442\u043e"}):"pending"===n?Object(d.jsx)(G,{}):"rejected"===n?Object(d.jsx)("p",{children:a.message}):"resolved"===n?t.length<A.imagesPerPage?Object(d.jsx)(I,{images:t}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(I,{images:t,activeImage:this.activeImage}),Object(d.jsx)(M,{onLoadMore:this.loadMore})]}):void 0}}]),a}(n.Component),J=a(11),U=a.n(J),H=document.querySelector("#modal-root"),K=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleKeyDown=function(t){"Escape"===t.code&&e.props.onClose()},e.handleBackdropClick=function(t){t.currentTarget===t.target&&e.props.onClose()},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){return Object(o.createPortal)(Object(d.jsx)("div",{className:U.a.Overlay,onClick:this.handleBackdropClick,children:Object(d.jsx)("div",{className:U.a.Modal,children:Object(d.jsx)("img",{src:this.props.src,alt:this.props.alt})})}),H)}}]),a}(n.Component),Q=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={nameImg:"",showModal:null},e.onSubmit=function(t){e.setState({nameImg:t})},e.openModal=function(t,a){e.setState({showModal:{src:t,alt:a}})},e.closeModal=function(){e.setState({showModal:null})},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.state,t=e.nameImg,a=e.showModal;return Object(d.jsxs)("div",{className:h.a.App,children:[Object(d.jsx)(b,{onSubmit:this.onSubmit}),Object(d.jsx)(q,{nameImage:t,controlModal:this.openModal}),this.state.showModal&&Object(d.jsx)(K,{onClose:this.closeModal,src:a.src,alt:a.alt})]})}}]),a}(n.Component);c.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(Q,{})}),document.getElementById("root"))},7:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__4g5LY",SearchForm:"Searchbar_SearchForm__pHGpd","SearchForm-button":"Searchbar_SearchForm-button__3ie0j","SearchForm-button-label":"Searchbar_SearchForm-button-label__th7A-","SearchForm-input":"Searchbar_SearchForm-input__2jua1"}}},[[45,1,2]]]);
//# sourceMappingURL=main.a56a27ad.chunk.js.map