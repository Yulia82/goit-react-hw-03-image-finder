{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/App/App.module.css","components/ImageGallery/ImageGallery.module.css","components/ImageGalleryView/ImageGalleryView.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Loader/Loader.js","components/utils/scroll.js","components/ImageGalleryView/ImageGalleryView.js","components/utils/getImages-api.js","components/Modal/Modal.js","components/App/App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","value","InputChange","evt","setState","target","toLowerCase","FormSubmit","e","preventDefault","trim","props","onSubmit","alert","className","styles","SearchForm","this","type","onChange","autocomplete","autofocus","placeholder","Component","ImageGalleryItem","src","alt","activeImage","onClick","ImageGallery","images","map","image","webformatURL","tags","largeImageURL","id","LoadMoreBtn","onLoadMore","Button","Loadmore","LoadeMore","color","height","width","timeout","scroll","window","scrollTo","top","document","documentElement","scrollHeight","behavior","galleryImages","searchQuery","currentPage","perPage","fetch","then","response","ok","json","Promise","reject","Error","query","newQuery","Status","ImageGalleryView","error","status","loadMore","incrementPage","getImage","hits","prevState","catch","controlModal","prevProps","nameImage","resetPage","Text","message","length","imagesPerPage","modalRoot","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","currentTarget","addEventListener","removeEventListener","createPortal","Overlay","App","nameImg","showModal","openModal","closeModal","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a56a27ad.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1boHU\",\"ImageGalleryItem-image\":\"ImageGalleryItem_ImageGalleryItem-image__Iobk6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3-2AV\",\"Modal\":\"Modal_Modal__3DH4i\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__2TRbz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__TJ5I2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Text\":\"ImageGalleryView_Text__12nKO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__CVBOk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"LoadeMore\":\"Loader_LoadeMore__2JjJg\"};","import { Component } from \"react\";\nimport styles from \"./Searchbar.module.css\";\nimport PropTypes from \"prop-types\";\n\nclass Searchbar extends Component {\n  state = {\n    value: \"\",\n  };\n\n  InputChange = evt => {\n    this.setState({ value: evt.target.value.toLowerCase() });\n    // console.log(evt.target.value);\n  };\n\n  FormSubmit = e => {\n    e.preventDefault();\n\n    if (this.state.value.trim() === \"\") {\n      alert(\"ENTER NAME\");\n      return;\n    }\n\n    this.props.onSubmit(this.state.value);\n    this.setState({ value: \"\" });\n  };\n\n  render() {\n    return (\n      <header className={styles.Searchbar}>\n        <form className={styles.SearchForm} onSubmit={this.FormSubmit}>\n          <button type=\"submit\" className={styles[\"SearchForm-button\"]}>\n            <span className={styles[\"SearchForm-button-label\"]}>Search</span>\n          </button>\n\n          <input\n            className={styles[\"SearchForm-input\"]}\n            type=\"text\"\n            value={this.state.value}\n            onChange={this.InputChange}\n            autocomplete=\"off\"\n            autofocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default Searchbar;\n","import styles from \"./ImageGalleryItem.module.css\";\nimport PropTypes from \"prop-types\";\n\nfunction ImageGalleryItem({ src, alt, activeImage }) {\n  return (\n    <li className={styles.ImageGalleryItem}>\n      <img\n        src={src}\n        alt={alt}\n        className={styles[\"ImageGalleryItem-image\"]}\n        onClick={activeImage}\n      />\n    </li>\n  );\n}\n\nexport default ImageGalleryItem;\n\nImageGalleryItem.propTypes = {\n  src: PropTypes.string.isRequired,\n  alt: PropTypes.string.isRequired,\n  activeImage: PropTypes.func.isRequired,\n};\n","import ImageGalleryItem from \"../ImageGalleryItem\";\nimport styles from \"./ImageGallery.module.css\";\nimport PropTypes from \"prop-types\";\n\nfunction ImageGallery({ images, activeImage }) {\n  return (\n    <ul className={styles.ImageGallery}>\n      {images.map(image => {\n        return (\n          <ImageGalleryItem\n            key={image.id}\n            src={image.webformatURL}\n            alt={image.tags}\n            activeImage={() => activeImage(image.largeImageURL, image.tags)}\n          />\n        );\n      })}\n    </ul>\n  );\n}\n\nexport default ImageGallery;\n\nImageGallery.propTypes = {\n  images: PropTypes.arrayOf(PropTypes.object).isRequired,\n  activeImage: PropTypes.func,\n};\n","import styles from \"./Button.module.css\";\nimport PropTypes from \"prop-types\";\n\nfunction LoadMoreBtn({ onLoadMore }) {\n  return (\n    <button type=\"button\" className={styles.Button} onClick={onLoadMore}>\n      Load more\n    </button>\n  );\n}\n\nexport default LoadMoreBtn;\n\nLoadMoreBtn.propTypes = {\n  onLoadMore: PropTypes.func.isRequired,\n};\n","import Loader from \"react-loader-spinner\";\nimport { Component } from \"react\";\nimport styles from \"./Loader.module.css\";\n\nclass Loadmore extends Component {\n  //other logic\n  render() {\n    return (\n      <Loader\n        className={styles.LoadeMore}\n        type=\"Puff\"\n        color=\"#00BFFF\"\n        height={300}\n        width={300}\n        timeout={3000} //3 secs\n      />\n    );\n  }\n}\n\nexport default Loadmore;\n","export function scroll() {\n  window.scrollTo({\n    top: document.documentElement.scrollHeight,\n    behavior: \"smooth\",\n  });\n}\n","import { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport ImageGallery from \"../ImageGallery\";\nimport styles from \"./ImageGalleryView.module.css\";\nimport LoadMoreBtn from \"../Button\";\nimport Loadmore from \"../Loader\";\nimport ImagesApi from \"../utils/getImages-api\";\nimport { scroll } from \"../utils/scroll\";\n\nconst galleryImages = new ImagesApi();\n\nconst Status = {\n  IDLE: \"idle\",\n  PENDING: \"pending\",\n  RESOLVED: \"resolved\",\n  REJECTED: \"rejected\",\n};\n\nclass ImageGalleryView extends Component {\n  state = {\n    images: null,\n    error: null,\n    status: Status.IDLE,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.nameImage !== this.props.nameImage) {\n      this.setState({ status: Status.PENDING });\n\n      galleryImages.query = this.props.nameImage;\n      galleryImages.resetPage();\n\n      galleryImages\n        .getImage()\n        .then(({ hits }) => {\n          // console.log('images', hits);\n          this.setState({ images: hits, status: Status.RESOLVED });\n        })\n        .catch(error => this.setState({ error, status: Status.REJECTED }));\n    }\n  }\n\n  loadMore = () => {\n    galleryImages.incrementPage();\n\n    galleryImages\n      .getImage()\n      .then(({ hits }) => {\n        // console.log('images', hits);\n        this.setState(prevState => ({\n          images: [...prevState.images, ...hits],\n          status: Status.RESOLVED,\n        }));\n        scroll();\n      })\n      .catch(error => this.setState({ error, status: Status.REJECTED }));\n  };\n\n  activeImage = (src, alt) => {\n    this.props.controlModal(src, alt);\n  };\n\n  render() {\n    const { images, error, status } = this.state;\n\n    if (status === \"idle\") {\n      return <p className={styles.Text}>Введите название картинки/фото</p>;\n    }\n\n    if (status === \"pending\") {\n      return <Loadmore />;\n    }\n\n    if (status === \"rejected\") {\n      return <p>{error.message}</p>;\n    }\n\n    if (status === \"resolved\") {\n      if (images.length < galleryImages.imagesPerPage) {\n        return <ImageGallery images={images} />;\n      } else {\n        return (\n          <>\n            <ImageGallery images={images} activeImage={this.activeImage} />\n            <LoadMoreBtn onLoadMore={this.loadMore} />\n          </>\n        );\n      }\n    }\n  }\n}\n\nImageGalleryView.propTypes = {\n  nameImage: PropTypes.string.isRequired,\n  controlModal: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryView;\n","const BASICURL = \"https://pixabay.com/api/?\";\nconst KEY = \"21900580-a9d3faca1e1a077fd5c5f4e0a\";\n\nclass ImagesApi {\n  constructor() {\n    this.searchQuery = \"\";\n    this.currentPage = 1;\n    this.perPage = 12;\n  }\n\n  getImage() {\n    return fetch(\n      `${BASICURL}q=${this.searchQuery}&page=${this.currentPage}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=${this.perPage}`,\n    ).then(response => {\n      if (response.ok) {\n        return response.json();\n      }\n\n      return Promise.reject(new Error(`Нет картинок с именем ${this.query}`));\n    });\n  }\n\n  resetPage() {\n    this.currentPage = 1;\n  }\n\n  incrementPage() {\n    this.currentPage += 1;\n  }\n\n  set query(newQuery) {\n    this.searchQuery = newQuery;\n  }\n\n  get query() {\n    return this.searchQuery;\n  }\n\n  get imagesPerPage() {\n    return this.perPage;\n  }\n}\n\nexport default ImagesApi;\n","import styles from \"./Modal.module.css\";\nimport { Component } from \"react\";\nimport { createPortal } from \"react-dom\";\n\nconst modalRoot = document.querySelector(\"#modal-root\");\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  handleKeyDown = evt => {\n    if (evt.code === \"Escape\") {\n      this.props.onClose();\n    }\n  };\n\n  handleBackdropClick = evt => {\n    if (evt.currentTarget === evt.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className={styles.Overlay} onClick={this.handleBackdropClick}>\n        <div className={styles.Modal}>\n          <img src={this.props.src} alt={this.props.alt} />\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nexport default Modal;\n","import { Component } from \"react\";\nimport styles from \"./App.module.css\";\nimport Searchbar from \"../Searchbar\";\nimport ImageGalleryView from \"../ImageGalleryView\";\nimport Modal from \"../Modal\";\n\nclass App extends Component {\n  state = {\n    nameImg: \"\",\n    showModal: null,\n  };\n\n  onSubmit = query => {\n    this.setState({ nameImg: query });\n  };\n\n  openModal = (src, alt) => {\n    this.setState({ showModal: { src, alt } });\n  };\n\n  closeModal = () => {\n    this.setState({ showModal: null });\n  };\n\n  render() {\n    const { nameImg, showModal } = this.state;\n\n    return (\n      <div className={styles.App}>\n        <Searchbar onSubmit={this.onSubmit} />\n        <ImageGalleryView nameImage={nameImg} controlModal={this.openModal} />\n        {this.state.showModal && (\n          <Modal\n            onClose={this.closeModal}\n            src={showModal.src}\n            alt={showModal.alt}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./styles.css\";\nimport App from \"../src/components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\"),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__4g5LY\",\"SearchForm\":\"Searchbar_SearchForm__pHGpd\",\"SearchForm-button\":\"Searchbar_SearchForm-button__3ie0j\",\"SearchForm-button-label\":\"Searchbar_SearchForm-button-label__th7A-\",\"SearchForm-input\":\"Searchbar_SearchForm-input__2jua1\"};"],"sourceRoot":""}